<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <!-- force edge-level compatibility for IE -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Yahoo! Group Backup</title>

  <!-- css -->
  <link href="./css/bootstrap.min.css" rel="stylesheet">
  <link href="./css/dataTables.bootstrap.min.css" rel="stylesheet">
  <link href="./css/bootstrap-slider.6.1.7.min.css" rel="stylesheet">
  <link href="./modules/index/snippet.css" rel="stylesheet">
  <link href="./modules/index/search-tooltip.css" rel="stylesheet">

  <style type="text/css">
    body {
      /* padding for nav */
      padding-top: 50px;
      /* min width for small devices */
      min-width: 480px;
    }

    html {
      /* always show scrollbar for consistency */
      overflow-y: scroll;
    }
  </style>

</head>

<body>

  <!-- all content in one initially-hidden container -->
  <div id="script-container" class="container" style="display: none;">

    <!-- first view - show until config loaded -->
    <div ng-show="!configLoaded" class="text-center">
      <!-- show blank nav so page load looks nicer-->
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./index.html">&nbsp;</a>
        </div>
        <div class="collapse navbar-collapse" uib-collapse="true">
          </ul>
        </div>
      </div>
      <!-- show a loader, padded the same as when index page is loaded -->
      <div class="text-center">
        <h1>&nbsp;</h1>
      </div>
      <br>
      <img src="./img/loader.gif">
    </div>

    <!-- second view - only show when finished loading -->
    <div ng-if="configLoaded">  <!-- ng-if is important, so nothing tries to use config until it is loaded -->
      <div ng-include="'./modules/nav.html'"></div>

      <div class="text-center row">
        <h1 class="col-xs-12 hidden-sm hidden-md hidden-lg">{{ config.groupName }}</h1>
        <h1 class="hidden-xs col-sm-12">{{ config.groupName }} Yahoo! Group Backup</h1>
      </div>

      <div ng-include="'./modules/index/index-table.html'"></div>

      <section ui-view></section>
    </div>

  </div>

  <!-- noscript message, initially visible -->
  <div id="noscript-container">
    <div class="text-center">
      <p class="lead">You must enable JavaScript to use this static website.</p>
    </div>
  </div>

  <!-- ================================= -->
  <!-- ========== js includes ========== -->
  <!-- ================================= -->

  <!-- libraries -->
  <script type="text/javascript" src="./js/jquery-1.12.3.min.js"></script>
  <script type="text/javascript" src="./js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="./js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript" src="./js/date.format.js"></script>
  <script type="text/javascript" src="./js/lokijs.min.js"></script>
  <script type="text/javascript" src="./js/lz-string.min.js"></script>

  <script type="text/javascript" src="./js/angular.min.js"></script>
  <script type="text/javascript" src="./js/angular-ui-router.min.js"></script>
  <script type="text/javascript" src="./js/angular-sanitize.min.js"></script>
  <script type="text/javascript" src="./js/angular-local-storage.min.js"></script>

  <script type="text/javascript" src="./js/ui-bootstrap-custom-tpls-2.0.0.min.js"></script>
  <script type="text/javascript" src="./js/bootstrap-slider-6.1.7.min.js"></script>
  <script type="text/javascript" src="./js/angular-bootstrap-slider.js"></script>

  <script type="text/javascript" src="./js/elasticlunr.min.js"></script>

  <!-- modules -->
  <script type="text/javascript" src="./modules/core/module.js"></script>
  <!-- IMPORTANT: DO NOT CHANGE OR MOVE load-templates.js! This is hooked into via convention in a
  very hard-coded manner by the dump-site script! -->
  <script type="text/javascript" src="./modules/core/load-templates.js"></script>
  <!-- END IMPORTANT -->
  <script type="text/javascript" src="./modules/core/escapeHtml.filter.js"></script>
  <script type="text/javascript" src="./modules/core/stripHtml.filter.js"></script>
  <script type="text/javascript" src="./modules/core/local-jsonp.js"></script>
  <script type="text/javascript" src="./modules/core/promiseForEach.js"></script>
  <script type="text/javascript" src="./modules/core/memoize.js"></script>

  <script type="text/javascript" src="./modules/nav.js"></script>

  <script type="text/javascript" src="./modules/index/module.js"></script>
  <script type="text/javascript" src="./modules/index/IndexCtrl.js"></script>
  <script type="text/javascript" src="./modules/index/IndexData__Local.js"></script>
  <script type="text/javascript" src="./modules/index/IndexData.js"></script>

  <script type="text/javascript" src="./modules/message/module.js"></script>
  <script type="text/javascript" src="./modules/message/messageAuthor.filter.js"></script>
  <script type="text/javascript" src="./modules/message/messageSnippet.filter.js"></script>
  <script type="text/javascript" src="./modules/message/MessageData__Local.js"></script>
  <script type="text/javascript" src="./modules/message/MessageData.js"></script>
  <script type="text/javascript" src="./modules/message/MessageCtrl.js"></script>

  <script type="text/javascript" src="./modules/search/module.js"></script>
  <script type="text/javascript" src="./modules/search/MessageSearch__Local.js"></script>
  <script type="text/javascript" src="./modules/search/MessageSearch.js"></script>

  <script type="text/javascript" src="./modules/app.js"></script>


  <!-- ================================= -->
  <!-- ========= bootstrap app ========= -->
  <!-- ================================= -->
  <script type="text/javascript">
    // show javascript-only content
    $("#noscript-container").css({"display": "none"});
    $("#script-container").css({"display": ""});

    // bootstrap when document is ready
    $(document).ready(function() {
      angular.bootstrap($("body"), ['staticyahoo.app']);
    });
  </script>
</body>
</html>
